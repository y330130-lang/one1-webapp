<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>잔고</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/style.css" />
  <script type="module">
    import { $, setJSON, getKeys } from '/js/app.js';
    window.addEventListener('DOMContentLoaded', async () => {
      const out = $('#out');
      out.textContent = '잔고 조회 시도 중…';
      try {
        const keys = getKeys();
        const res = await fetch('/api/balance', {
          method: 'POST',
          headers: {'content-type':'application/json','x-ak': keys.access,'x-sk': keys.secret},
          body: JSON.stringify({})
        });
        const j = await res.json();
        setJSON(out, j);
      } catch (e) {
        out.textContent = '오류: ' + e;
      }
    });
  </script>
</head>
<body>
  <main class="container">
    <a href="/ui_home.html">← 홈</a>
    <h1>잔고</h1>
    <div class="card">
      <button class="btn primary" onclick="location.reload()">잔고 조회</button>
      <pre id="out" class="card mono">{결과 대기}</pre>
    </div>
  </main>
</body>
</html>
